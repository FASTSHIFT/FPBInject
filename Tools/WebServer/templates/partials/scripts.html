<!-- Scripts - Modular JS -->
<!-- Core Modules -->
<script src="/static/js/core/version.js"></script>
<script src="/static/js/core/state.js"></script>
<script src="/static/js/core/theme.js"></script>
<script src="/static/js/core/terminal.js"></script>
<script src="/static/js/core/connection.js"></script>
<script src="/static/js/core/logs.js"></script>
<script src="/static/js/core/slots.js"></script>
<script src="/static/js/core/config-schema.js"></script>
<!-- UI Modules -->
<script src="/static/js/ui/sash.js"></script>
<script src="/static/js/ui/sidebar.js"></script>
<!-- Feature Modules -->
<script src="/static/js/features/fpb.js"></script>
<script src="/static/js/features/patch.js"></script>
<script src="/static/js/features/symbols.js"></script>
<script src="/static/js/features/editor.js"></script>
<script src="/static/js/features/config.js"></script>
<script src="/static/js/features/autoinject.js"></script>
<script src="/static/js/features/filebrowser.js"></script>
<script src="/static/js/features/transfer.js"></script>
<!-- Main Entry Point -->
<script src="/static/js/app.js"></script>
<script>
  // Clock Update
  function updateClock() {
    const now = new Date();
    const timeString =
      now.getFullYear() +
      "-" +
      String(now.getMonth() + 1).padStart(2, "0") +
      "-" +
      String(now.getDate()).padStart(2, "0") +
      " " +
      String(now.getHours()).padStart(2, "0") +
      ":" +
      String(now.getMinutes()).padStart(2, "0");
    const clock = document.getElementById("clockDisplay");
    if (clock) clock.innerText = timeString;
  }

  document.addEventListener("DOMContentLoaded", () => {
    setInterval(updateClock, 1000);
    updateClock();
    initSashResize();
    loadLayoutPreferences();
    loadThemePreference();
    // Initialize sidebar section heights and resize
    if (typeof loadSidebarSectionHeights === "function") {
      loadSidebarSectionHeights();
    }
    if (typeof setupSidebarSectionResize === "function") {
      setupSidebarSectionResize();
    }
    // Initialize drag and drop for file transfer
    if (typeof initTransferDragDrop === "function") {
      initTransferDragDrop();
    }
    // Display version
    const versionEl = document.getElementById("versionDisplay");
    if (versionEl && window.FPBINJECT_VERSION) {
      versionEl.textContent = window.FPBINJECT_VERSION.string;
    }
  });
</script>
